(()=>{"use strict";const e=document.querySelector(".menu-icon"),t=document.querySelector(".aside"),n=document.querySelectorAll(".song-title"),a=document.getElementById("play"),i=document.getElementById("next"),c=document.getElementById("prev"),s=document.getElementById("audio");let r=s.classList.contains("active");const l=document.querySelector(".player__info img"),o=document.querySelector("#title"),d=document.querySelector(".band"),u=document.querySelector(".bar"),m=document.querySelector(".bar__thumb"),p=document.getElementById("duration"),g=document.querySelector(".repeat"),y=[{album:"https://upload.wikimedia.org/wikipedia/en/e/ed/Lamb_of_God_-_VII_Sturm_und_Drang.jpg",name:"Delusion Pandemic"},{album:"https://upload.wikimedia.org/wikipedia/en/e/e0/LOG_Resolution.jpg",name:"Ghost Walking"},{album:"https://upload.wikimedia.org/wikipedia/en/f/fc/Lamb_of_God_-_Lamb_of_God.jpg",name:"Checkmate"}];let L=0;function f(e){"Delusion Pandemic"==e.innerText?(L=0,l.src=y[0].album):"Ghost Walking"==e.innerText?(l.src=y[1].album,L=1):(L=2,l.src=y[2].album)}function v(){s.play(),a.classList.remove("fa-play"),a.classList.add("fa-pause")}function k(){r&&(L++,L>y.length-1&&(L=0),s.src=`./assets/songs/${y[L].name}.mp3`.replaceAll(" ",""),o.innerText=`${y[L].name}`,f(o),v())}e.addEventListener("click",(()=>t.classList.toggle("aside-active"))),n.forEach((e=>{e.addEventListener("click",(function(){var t;t=e,o.innerText=t.innerText,l.style.borderRadius="10px",f(o),d.style.opacity="1",o.style.opacity="1",r=!0,s.src=`./assets/songs/${o.innerText}.mp3`.replaceAll(" ",""),v()}))})),c.addEventListener("click",(function(){r&&(L--,L<0&&(L=y.length-1),s.src=`./assets/songs/${y[L].name}.mp3`.replaceAll(" ",""),o.innerText=`${y[L].name}`,f(o),v())})),i.addEventListener("click",k),a.addEventListener("click",(()=>{r&&(s.paused?v():(s.pause(),a.classList.add("fa-play"),a.classList.remove("fa-pause")))})),s.addEventListener("timeupdate",(function(e){if(r){const{duration:t,currentTime:n}=e.target,a=n/t*100;m.style.width=`${a}%`;let i=parseInt(s.currentTime/60%60),c=parseInt(s.currentTime%60);c<10&&(c="0"+c),p.textContent=`${i}:${c}`}})),u.addEventListener("click",(function(e){const t=this.clientWidth,n=e.offsetX,a=s.duration;s.currentTime=n/t*a})),s.addEventListener("ended",(()=>{g.classList.contains("repeat-active")?(s.currentTime=0,v()):k()})),g.addEventListener("click",(()=>{r&&g.classList.toggle("repeat-active")})),document.addEventListener("click",(e=>{e.target.classList.contains("link")&&e.preventDefault()}))})();
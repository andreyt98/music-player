(()=>{"use strict";const e=document.querySelector(".aside"),t=document.querySelector(".menu-icon"),n=document.getElementById("audio"),i=document.querySelectorAll(".playlist li"),a=document.querySelector("#title"),c=document.getElementById("play"),s=document.getElementById("next"),d=document.getElementById("prev"),o=document.querySelector(".player__info img"),r=document.querySelector(".band"),l=document.querySelector(".bar"),u=document.querySelector(".bar__thumb"),m=document.getElementById("duration"),p=document.querySelector(".repeat");let g=n.classList.contains("active");const f=[{id:1,album:"https://upload.wikimedia.org/wikipedia/en/e/ed/Lamb_of_God_-_VII_Sturm_und_Drang.jpg",name:"Delusion Pandemic",src:"./assets/songs/DelusionPandemic.mp3"},{id:2,album:"https://upload.wikimedia.org/wikipedia/en/e/e0/LOG_Resolution.jpg",name:"Ghost Walking",src:"./assets/songs/GhostWalking.mp3"},{id:3,album:"https://upload.wikimedia.org/wikipedia/en/f/fc/Lamb_of_God_-_Lamb_of_God.jpg",name:"Checkmate",src:"./assets/songs/Checkmate.mp3"}];let y=0;function L(e){const t=document.querySelector("li.song-active");t&&t.classList.remove("song-active"),Array.from(i).find((t=>t.getAttribute("data-id")==e)).classList.add("song-active")}function v(e){const t=f[e-1];n.src=t.src,o.src=t.album,o.style.borderRadius="10px",a.innerText=t.name,a.style.opacity="1",r.style.opacity="1"}function k(){n.play(),n.classList.add("active"),_(c,"fa-pause","fa-play")}function _(e,t,n){e.classList.add(t),e.classList.remove(n)}function E(){g&&(y++,y>f.length&&(y=0),v(y),k(),L(y))}i.forEach(((e,t)=>{t>0&&e.addEventListener("click",(function(){g=!0;const t=f.find((t=>t.id==e.getAttribute("data-id")));y=t.id,v(y),k(),L(y)}))})),t.addEventListener("click",(()=>e.classList.toggle("aside-active"))),d.addEventListener("click",(function(){g&&(y--,y<1&&(y=f.length),v(y),k(),L(y))})),s.addEventListener("click",E),c.addEventListener("click",(()=>{g&&(n.paused?k():(n.pause(),_(c,"fa-play","fa-pause")))})),n.addEventListener("timeupdate",(function(e){if(g){const{duration:t,currentTime:i}=e.target,a=i/t*100;u.style.width=`${a}%`;let c=parseInt(n.currentTime/60%60),s=parseInt(n.currentTime%60);s<10&&(s="0"+s),m.textContent=`${c}:${s}`}})),l.addEventListener("click",(function(e){const t=this.clientWidth,i=e.offsetX,a=n.duration;n.currentTime=i/t*a})),n.addEventListener("ended",(()=>{p.classList.contains("repeat-active")?(n.currentTime=0,k()):E()})),p.addEventListener("click",(()=>{g&&p.classList.toggle("repeat-active")})),document.addEventListener("click",(e=>{e.target.classList.contains("link")&&e.preventDefault()})),Array.from(i).forEach(((e,t)=>{t>0&&e.setAttribute("data-id",t)}))})();
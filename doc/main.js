(()=>{"use strict";const e=document.querySelector(".menu-icon"),t=document.querySelector(".aside"),n=document.querySelectorAll(".song-title"),i=document.getElementById("play"),c=document.getElementById("next"),s=document.getElementById("prev"),a=document.getElementById("audio");let r=a.classList.contains("active");const o=document.querySelector(".player__info img"),d=document.querySelector("#title"),l=document.querySelector(".band"),u=document.querySelector(".bar"),m=document.querySelector(".bar__thumb"),p=document.getElementById("duration"),g=document.querySelector(".repeat"),y="https://upload.wikimedia.org/wikipedia/en/e/ed/Lamb_of_God_-_VII_Sturm_und_Drang.jpg",f="https://upload.wikimedia.org/wikipedia/en/e/e0/LOG_Resolution.jpg",L="https://upload.wikimedia.org/wikipedia/en/f/fc/Lamb_of_God_-_Lamb_of_God.jpg",_=["Delusion Pandemic","Ghost Walking","Checkmate"];let v=0;function k(e){"Delusion Pandemic"==e.innerText?(v=0,o.src=y):"Ghost Walking"==e.innerText?(o.src=f,v=1):(v=2,o.src=L)}function E(){i.classList.remove("fa-play"),i.classList.add("fa-pause"),a.play()}function h(){r&&(v++,v>_.length-1&&(v=0),a.src=`../assets/songs/${_[v]}.mp3`.replaceAll(" ",""),d.innerText=`${_[v]}`,k(d),E())}e.addEventListener("click",(()=>t.classList.toggle("aside-active"))),n.forEach((e=>{e.addEventListener("click",(function(){var t;t=e,d.innerText=t.innerText,o.style.borderRadius="10px",k(d),l.style.opacity="1",d.style.opacity="1",r=!0,a.src=`../assets/songs/${d.innerText}.mp3`.replaceAll(" ",""),E()}))})),s.addEventListener("click",(function(){r&&(v--,v<0&&(v=_.length-1),a.src=`../assets/songs/${_[v]}.mp3`.replaceAll(" ",""),d.innerText=`${_[v]}`,k(d),E())})),c.addEventListener("click",h),i.addEventListener("click",(()=>{r&&(a.paused?E():(i.classList.add("fa-play"),i.classList.remove("fa-pause"),a.pause()))})),a.addEventListener("timeupdate",(function(e){if(r){const{duration:t,currentTime:n}=e.target,i=n/t*100;m.style.width=`${i}%`;let c=parseInt(a.currentTime/60%60),s=parseInt(a.currentTime%60);s<10&&(s="0"+s),p.textContent=`${c}:${s}`}})),u.addEventListener("click",(function(e){const t=this.clientWidth,n=e.offsetX,i=a.duration;a.currentTime=n/t*i})),a.addEventListener("ended",(()=>{g.classList.contains("repeat-active")?(a.currentTime=0,E()):h()})),g.addEventListener("click",(()=>{r&&g.classList.toggle("repeat-active")}))})();
{"version":3,"file":"controls.js","sources":["controls.js"],"sourcesContent":["const playlistItem = document.querySelectorAll(\".song-title\");\nconst playBtn = document.getElementById(\"play\");\nconst nextBtn = document.getElementById(\"next\");\nconst prevBtn = document.getElementById(\"prev\");\nconst audio = document.getElementById(\"audio\");\nlet isActive = audio.classList.contains(\"active\");\n\nconst albumImg = document.querySelector(\".player__info img\");\nconst songPlaying = document.querySelector(\"#title\");\nconst bandName = document.querySelector(\".band\");\n\nconst progressBar = document.querySelector(\".bar\");\nconst progressThumb = document.querySelector(\".bar__thumb\");\nconst totalDuration = document.getElementById(\"duration\");\n\nconst repeatBtn = document.querySelector(\".repeat\");\n\nconst albums = {\n  a1: \"https://upload.wikimedia.org/wikipedia/en/e/ed/Lamb_of_God_-_VII_Sturm_und_Drang.jpg\",\n  a2: \"https://upload.wikimedia.org/wikipedia/en/e/e0/LOG_Resolution.jpg\",\n  a3: \"https://upload.wikimedia.org/wikipedia/en/f/fc/Lamb_of_God_-_Lamb_of_God.jpg\",\n};\n\nconst songs = [\"Delusion Pandemic\", \"Ghost Walking\", \"Checkmate\"];\n\nsongIndex = 0;\n\nfunction selectAlbumImg(song) {\n  if (song.innerText == \"Delusion Pandemic\") {\n    songIndex = 0;\n    albumImg.src = albums.a1;\n  } else if (song.innerText == \"Ghost Walking\") {\n    albumImg.src = albums.a2;\n    songIndex = 1;\n  } else {\n    songIndex = 2;\n    albumImg.src = albums.a3;\n  }\n}\n\nfunction loadSongInfo(song) {\n  songPlaying.innerText = song.innerText;\n  albumImg.style.borderRadius = \"10px\";\n\n  selectAlbumImg(songPlaying);\n\n  bandName.style.opacity = \"1\";\n  songPlaying.style.opacity = \"1\";\n\n  isActive = true;\n  audio.src = `songs/${songPlaying.innerText}.mp3`.replaceAll(\" \", \"\");\n}\n\nfunction playSong() {\n  playBtn.classList.remove(\"fa-play\");\n  playBtn.classList.add(\"fa-pause\");\n\n  audio.play();\n}\n\nfunction pauseSong() {\n  playBtn.classList.add(\"fa-play\");\n  playBtn.classList.remove(\"fa-pause\");\n\n  audio.pause();\n}\n\nfunction prevSong() {\n  if (isActive) {\n    songIndex--;\n\n    if (songIndex < 0) {\n      songIndex = songs.length - 1;\n    }\n\n    audio.src = `./songs/${songs[songIndex]}.mp3`.replaceAll(\" \", \"\");\n    songPlaying.innerText = `${songs[songIndex]}`;\n    selectAlbumImg(songPlaying);\n\n    playSong();\n  }\n}\nfunction nextSong() {\n  if (isActive) {\n    songIndex++;\n\n    if (songIndex > songs.length - 1) {\n      songIndex = 0;\n    }\n\n    audio.src = `./songs/${songs[songIndex]}.mp3`.replaceAll(\" \", \"\");\n    songPlaying.innerText = `${songs[songIndex]}`;\n    selectAlbumImg(songPlaying);\n    playSong();\n  }\n}\n\nfunction progress(evt) {\n  if (isActive) {\n    const { duration, currentTime } = evt.target;\n\n    const progress = (currentTime / duration) * 100;\n\n    progressThumb.style.width = `${progress}%`;\n\n    let minutes = parseInt((audio.currentTime / 60) % 60);\n    let seconds = parseInt(audio.currentTime % 60);\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    totalDuration.textContent = `${minutes}:${seconds}`;\n  }\n}\n\nfunction setProgress(evt) {\n  const width = this.clientWidth;\n\n  const clickX = evt.offsetX;\n\n  const duration = audio.duration;\n\n  audio.currentTime = (clickX / width) * duration;\n}\n\nplaylistItem.forEach(function (element) {\n  element.addEventListener(\"click\", function () {\n    loadSongInfo(element);\n    playSong();\n  });\n});\n\nprevBtn.addEventListener(\"click\", prevSong);\n\nnextBtn.addEventListener(\"click\", nextSong);\n\nplayBtn.addEventListener(\"click\", function () {\n  if (isActive) {\n    if (!audio.paused) {\n      pauseSong();\n    } else {\n      playSong();\n    }\n  }\n});\n\naudio.addEventListener(\"timeupdate\", progress);\n\nprogressBar.addEventListener(\"click\", setProgress);\n\naudio.addEventListener(\"ended\", function () {\n  if (repeatBtn.classList.contains(\"repeat-active\")) {\n    this.currentTime = 0;\n    playSong();\n  } else {\n    nextSong();\n  }\n});\n\nrepeatBtn.addEventListener(\"click\", function () {\n  if (isActive) {\n    repeatBtn.classList.toggle(\"repeat-active\");\n  }\n});\n"],"names":["playlistItem","document","querySelectorAll","playBtn","getElementById","nextBtn","prevBtn","audio","let","isActive","classList","contains","albumImg","querySelector","songPlaying","bandName","progressBar","progressThumb","totalDuration","repeatBtn","albums","a1","a2","a3","songs","selectAlbumImg","song","innerText","songIndex","src","loadSongInfo","style","borderRadius","opacity","replaceAll","playSong","remove","add","play","pauseSong","pause","prevSong","length","nextSong","progress","evt","duration","currentTime","target","minutes","width","parseInt","seconds","textContent","setProgress","this","clientWidth","clickX","offsetX","forEach","element","addEventListener","paused","toggle"],"mappings":"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"}
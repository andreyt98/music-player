{"version":3,"sources":["./src/js/app.js","./src/js/controls.js"],"sourcesContent":["const menuIcon = document.querySelector(\".menu-icon\");\nconst menu = document.querySelector(\".aside\");\n\nmenuIcon.addEventListener(\"click\", () => menu.classList.toggle(\"aside-active\"));\n","const playlistItem = document.querySelectorAll(\".song-title\");\nconst playBtn = document.getElementById(\"play\");\nconst nextBtn = document.getElementById(\"next\");\nconst prevBtn = document.getElementById(\"prev\");\nconst audio = document.getElementById(\"audio\");\nlet isActive = audio.classList.contains(\"active\");\n\nconst albumImg = document.querySelector(\".player__info img\");\nconst songPlaying = document.querySelector(\"#title\");\nconst bandName = document.querySelector(\".band\");\n\nconst progressBar = document.querySelector(\".bar\");\nconst progressThumb = document.querySelector(\".bar__thumb\");\nconst totalDuration = document.getElementById(\"duration\");\n\nconst repeatBtn = document.querySelector(\".repeat\");\n\nconst albums = {\n  a1: \"https://upload.wikimedia.org/wikipedia/en/e/ed/Lamb_of_God_-_VII_Sturm_und_Drang.jpg\",\n  a2: \"https://upload.wikimedia.org/wikipedia/en/e/e0/LOG_Resolution.jpg\",\n  a3: \"https://upload.wikimedia.org/wikipedia/en/f/fc/Lamb_of_God_-_Lamb_of_God.jpg\",\n};\n\nconst songs = [\"Delusion Pandemic\", \"Ghost Walking\", \"Checkmate\"];\n\nlet songIndex = 0;\n\nfunction selectAlbumImg(song) {\n  if (song.innerText == \"Delusion Pandemic\") {\n    songIndex = 0;\n    albumImg.src = albums.a1;\n  } else if (song.innerText == \"Ghost Walking\") {\n    albumImg.src = albums.a2;\n    songIndex = 1;\n  } else {\n    songIndex = 2;\n    albumImg.src = albums.a3;\n  }\n}\n\nfunction loadSongInfo(song) {\n  songPlaying.innerText = song.innerText;\n  albumImg.style.borderRadius = \"10px\";\n\n  selectAlbumImg(songPlaying);\n\n  bandName.style.opacity = \"1\";\n  songPlaying.style.opacity = \"1\";\n\n  isActive = true;\n  audio.src = `songs/${songPlaying.innerText}.mp3`.replaceAll(\" \", \"\");\n}\n\nfunction playSong() {\n  playBtn.classList.remove(\"fa-play\");\n  playBtn.classList.add(\"fa-pause\");\n\n  audio.play();\n}\n\nfunction pauseSong() {\n  playBtn.classList.add(\"fa-play\");\n  playBtn.classList.remove(\"fa-pause\");\n\n  audio.pause();\n}\n\nfunction prevSong() {\n  if (isActive) {\n    songIndex--;\n\n    if (songIndex < 0) {\n      songIndex = songs.length - 1;\n    }\n\n    audio.src = `./songs/${songs[songIndex]}.mp3`.replaceAll(\" \", \"\");\n    songPlaying.innerText = `${songs[songIndex]}`;\n    selectAlbumImg(songPlaying);\n\n    playSong();\n  }\n}\nfunction nextSong() {\n  if (isActive) {\n    songIndex++;\n\n    if (songIndex > songs.length - 1) {\n      songIndex = 0;\n    }\n\n    audio.src = `./songs/${songs[songIndex]}.mp3`.replaceAll(\" \", \"\");\n    songPlaying.innerText = `${songs[songIndex]}`;\n    selectAlbumImg(songPlaying);\n    playSong();\n  }\n}\n\nfunction progress(evt) {\n  if (isActive) {\n    const { duration, currentTime } = evt.target;\n\n    const progress = (currentTime / duration) * 100;\n\n    progressThumb.style.width = `${progress}%`;\n\n    let minutes = parseInt((audio.currentTime / 60) % 60);\n    let seconds = parseInt(audio.currentTime % 60);\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    totalDuration.textContent = `${minutes}:${seconds}`;\n  }\n}\n\nfunction setProgress(evt) {\n  const width = this.clientWidth;\n\n  const clickX = evt.offsetX;\n\n  const duration = audio.duration;\n\n  audio.currentTime = (clickX / width) * duration;\n}\n\nplaylistItem.forEach((element) => {\n  element.addEventListener(\"click\", function () {\n    loadSongInfo(element);\n    playSong();\n  });\n});\n\nprevBtn.addEventListener(\"click\", prevSong);\n\nnextBtn.addEventListener(\"click\", nextSong);\n\nplayBtn.addEventListener(\"click\", () => {\n  if (isActive) {\n    if (!audio.paused) {\n      pauseSong();\n    } else {\n      playSong();\n    }\n  }\n});\n\naudio.addEventListener(\"timeupdate\", progress);\n\nprogressBar.addEventListener(\"click\", setProgress);\n\naudio.addEventListener(\"ended\", () => {\n  if (repeatBtn.classList.contains(\"repeat-active\")) {\n    audio.currentTime = 0;\n    playSong();\n  } else {\n    nextSong();\n  }\n});\n\nrepeatBtn.addEventListener(\"click\", () => {\n  if (isActive) {\n    repeatBtn.classList.toggle(\"repeat-active\");\n  }\n});\n"],"names":["menuIcon","document","querySelector","menu","playlistItem","addEventListener","classList","toggle","querySelectorAll","playBtn","getElementById","nextBtn","prevBtn","audio","let","isActive","contains","albumImg","songPlaying","bandName","progressBar","progressThumb","totalDuration","repeatBtn","albums","a1","a2","a3","songs","songIndex","selectAlbumImg","song","innerText","src","loadSongInfo","style","borderRadius","opacity","replaceAll","playSong","remove","add","play","pauseSong","pause","prevSong","length","nextSong","progress","evt","duration","currentTime","target","minutes","width","parseInt","seconds","textContent","setProgress","this","clientWidth","clickX","offsetX","forEach","element","paused"],"mappings":"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"}